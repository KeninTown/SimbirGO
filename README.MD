# Simbir.GO RESTFULL API

## Изменения в процессе выполнения задания
Для указания параметров подключения к базе данных используются флаги к команде запуска приложения. Данное решение не является безопасным с точки зрения использования конфеденциальных данных, но в данном случае этим можно пренебречь для удобства тестирования программы.

## Запуск сервера
**Перед запуском приложения убедитесь, что параметры подключения к базе данных PostgreSQL совпадают со значениями по умолчанию**
**В противном случае для настройки определенного параметра используйте соотвествующий флаг**
**Описание флагов и пример их применения приведены ниже**

Для запуска сервера требуется открыть основную директорую проекта и выполнить следующие команды:
```
    1. go mod download 
    2. swag init -g ./cmd/main.go
    3. go run ./cmd/main.go
```

## Поддерживаемые флаги
Команда `run ./cmd/main.go` также поддерживает определенный набор флагов, для настройки подключения к базе данных PostgreSQL:
- *username* - имя пользователя базы данных (использовать в случае, если имя пользователя отличается от postgres)
- *password* - пароль к пользователю (использовать в случае, если пароль отличается от стандартного postgres)
- *dbname* - имя базы данных (использовать, если подключение будет производится не к базе данных с именем postgres)
- *port* - порт подключения к базе данных (использовать, если порт подключения отличается от стандартного 5432)
- *sslmode* - использование ssl мода при подключении к базе данных (использовать, если отличается от значения disable)
- *host* - хост по которому происходит подключение к базе данных (использовать, если отличается от localhost)

## Пример использования флагов
```
    go run ./cmd/main.go -password=veryStrongPassword -dbname=transportRents -port=2345  
```

## Авторизация
При получении jwt токена доступа следует вставить следующую конструкцию в поле Authorize в Sagger UI - "Bearer *token*", где *token* - полученный токен доступа.
В противном случае пользователь будет считаться **неавторизованным**

## Swagger URL
http://localhost/swagger/index.html